#! /usr/bin/bash

echo "Building............................."

make 00{1..9} 0{10..30} > /dev/null

echo "Testing.............................."

pairs="001-233168 002-4613732 003-6857 004-906609 005-232792560\
 006-25164150 007-104743 008-40824 009-31875000 010-142913828922\
 011-70600674 012-76576500 013-5537376230 014-837799 015-137846528820\
 016-1366 017-21124 018-1074 019-171 020-648 021-31626 022-871198282\
 023-4179871 024-2783915460 025-4782 026-983 027-028-59231 029-669171001\
 030-9183 031-443839 032-73682 033-45228 034-100 035-40730 036-55\
 037-872187 038-748317 039-932718654 040-840 041-210 042-7652413\
 043-162 044-16695334890 045-5482660 046-1533776805 047-5777 048-134043\
 049-9110846700 050-296962999629 051-997651 052-121313 053-142857\
 054-4075 055-376 056-249 057-972 058-153 059-26241 060-107359 061-26033\
 062-28684 063-127035954683 064-49 065-1322 066-272 067-661 068-7273\
 069-6531031914842725 070-510510 071-8319823 072-428570 073-303963552391\
 074-5066251 075-402 076-214954 077-190569291 078-71 079-55374\
 080-73162890 081-40886 082-427337 083-260324 084-425185 085-101524\
 086-2772 087-1818 088-1097343 089-7587457 090-743 091-1217"

for pair in $pairs
do
    testnum=${pair%-*}
    expected=${pair#*-}
    echo -n "$testnum: "
    [[ -f $testnum ]] || echo "doesn't exist"
    [[ -f $testnum ]] || exit
    a=$(./$testnum) || echo "Error running"
    [ "$a" == "$expected" ] && echo "passed" || echo "Wrong answer: Expected $expected, got $a."
    [ "$a" == "$expected" ] || exit;
done

